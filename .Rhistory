# write.xlsx(as.data.frame(tbl.fundBalance), "output/tbl_fundBalance.xlsx", row.names=F, sheetName="tbl_fundBalance")
# write.xlsx(as.data.frame(tbl.GaCommit), "output/tbl_GaCommit.xlsx", row.names=F, sheetName="tbl_GaCommit")
# write.xlsx(as.data.frame(tbl.GaCommitmentFundList.OSFA), "output/tbl_GaCommitFundList.xlsx", row.names=F, sheetName="tbl_GaCommitFundList")
# write.xlsx(tbl.scholar, "output/tbl_scholar.xlsx", row.names=F, sheetName="tbl_scholar")
# write.xlsx(as.data.frame(tbl.studentBalance), "output/tbl_studentBalance.xlsx", row.names=F, sheetName="tbl_studentBalance")
write.xlsx(jctCode, "output/tbl_scholarships.xlsx", row.names=F, sheetName="tbl_jctCode", append=FALSE)
write.xlsx(fundCode, "output/tbl_scholarships.xlsx", row.names=F, sheetName="tblFundCode", append=TRUE)
write.xlsx(jctCohortCode, "output/tbl_scholarships.xlsx", row.names=F, sheetName="tbl_jctCohortCode", append=TRUE)
write.xlsx(osfaCode, "output/tbl_scholarships.xlsx", row.names=F, sheetName="tbl_osfaCode", append=TRUE)
write.xlsx(studentID, "output/tbl_scholarships.xlsx", row.names=F, sheetName="tbl_studentID", append=TRUE)
write.xlsx(tbl.scholar, "output/tbl_scholarships.xlsx", row.names=F, sheetName="tbl_scholar", append=TRUE)
#write.xlsx(as.data.frame(tbl.balance), "output/tbl_scholarships.xlsx", row.names=F, sheetName="tbl_balance", append=TRUE)
write.xlsx(as.data.frame(tbl.BannerCohorts), "output/tbl_scholarships.xlsx", row.names=F, sheetName="tbl_bannerCohorts", append=TRUE)
write.xlsx(as.data.frame(tbl.CohortAwd), "output/tbl_scholarships.xlsx", row.names=F, sheetName="tbl_cohortAwd", append=TRUE)
write.xlsx(as.data.frame(tbl.fundBalance), "output/tbl_scholarships.xlsx", row.names=F, sheetName="tbl_fundBalance", append=TRUE)
write.xlsx(as.data.frame(tbl.GaCommit), "output/tbl_scholarships.xlsx", row.names=F, sheetName="tbl_GaCommit", append=TRUE)
write.xlsx(as.data.frame(tbl.GaCommitmentFundList.OSFA), "output/tbl_scholarships.xlsx", row.names=F, sheetName="tbl_GaCommitFundList", append=TRUE)
write.xlsx(as.data.frame(tbl.studentBalance), "output/tbl_scholarships.xlsx", row.names=F, sheetName="tbl_studentBalance", append=TRUE)
write.xlsx(as.data.frame(tbl.fundSummary), "output/tbl_scholarships.xlsx", row.names=F, sheetName="tbl.fundSummary", append=TRUE)
write.xlsx(tbl.scholar, "output/tbl_scholar.xlsx", row.names=F, sheetName="tbl_scholar", append=FALSE)
write.xlsx(tbl.scholar1, "output/tbl_scholar1.xlsx", row.names=F, sheetName="tbl_scholar1", append=FALSE)
write.xlsx(df, "output/tbl_scholar2.xlsx", row.names=F, sheetName="tbl_scholar2", append=FALSE)
tbl.scholar<-read.csv(row.names(data_files)[which.max(data_files[["ctime"]])], header=TRUE, sep=",", colClasses=c("Date", rep("character",2),"numeric","character", rep("numeric",8)))
tbl.scholar<-read.csv(row.names(data_files)[which.max(data_files[["ctime"]])], header=TRUE, sep=",", colClasses=c("Date", rep("character",2),"numeric","character", rep("numeric",8)))
tbl.scholar<-read.csv(row.names(data_files)[which.max(data_files[["ctime"]])], header=TRUE, sep=",", colClasses=c("Date", rep("character",2),"numeric","character", rep("numeric",8)))
data_files <- file.info(Sys.glob("y:/Reports/Banner/Argos/Test/*.csv"))
row.names(data_files)[which.max(data_files[["ctime"]])]
tbl.scholar<-read.csv(row.names(data_files)[which.max(data_files[["ctime"]])], header=TRUE, sep=",", colClasses=c("Date", rep("character",2),"numeric","character", rep("numeric",8)))
View(data_files)
data_files <- file.info(Sys.glob("y:/Reports/Banner/Argos/Test/*.csv"))
row.names(data_files)[which.max(data_files[["ctime"]])]
data_files <- file.info(Sys.glob("y:/Reports/Banner/Argos/Test/*.csv"))
data_files <- file.info(Sys.glob("y:/Reports*.xml"))
data_files <- file.info(Sys.glob("y:/Reports/*.xml"))
data_files <- file.info(Sys.glob("c:/users/gfalk/documents/*.png"))
View(data_files)
data_files <- file.info(Sys.glob("y:/*.png"))
View(data_files)
data_files <- file.info(Sys.glob("y:/Reports/*.png"))
data_files <- file.info(Sys.glob("y:/Reports/Banner/*.png"))
data_files <- file.info(Sys.glob("y:/Reports/Banner/Argos/*.png"))
data_files <- file.info(Sys.glob("y:/Reports/Banner/Argos/Test/*.png"))
data_files <- file.info(Sys.glob("y:/Reports/Banner/Argos/Test/*.csv"))
data_files <- file.info(Sys.glob("y:/Reports/Banner/Argos/Test/*.csv"))
data_files <- file.info(Sys.glob("y:/Reports/Banner/Argos/Test/*.csv"))
View(data_files)
View(tbl.fundSummary)
tbl.fundSummary<-unique.data.frame(tbl.fundSummary)
View(tbl.fundSummary)
tbl.fundSummary<-unique.data.frame(select(select(inner_join(tbl.fundBalance,jctCode, by='fundCode')%>%inner_join(., tbl.studentBalance, by='osfaCode'), -ends_with(".y")),osfaCode, fundCode:totBalFund, totBalStudent)%>%mutate(totBalRemain = totBalFund - totBalStudent))
tbl.fundSummary<-as.data.table(unique.data.frame(select(select(inner_join(tbl.fundBalance,jctCode, by='fundCode')%>%inner_join(., tbl.studentBalance, by='osfaCode'), -ends_with(".y")),osfaCode, fundCode:totBalFund, totBalStudent)%>%mutate(totBalRemain = totBalFund - totBalStudent)))
is.data.table(tbl.fundSummary)
View(tbl.GaCommit)
ggplot2(tbl.fundSummary, aes(x=fundCode, y=totBalRemaining))
ggplot2(tbl.fundSummary, aes(x=fundCode, y=totBalRemaining))
ggplot2::aes(fundCode,totBalRemain)
ggplot(tbl.fundSummary, aes(fundCode, totBalRemain))+geom_point()
ggplot(tbl.fundSummary, aes(fundCode, totBalRemain))+geom_point()+ geom_smooth(method="lm")
g<-ggplot(tbl.fundSummary, aes(fundCode, totBalRemain))+geom_point()+ geom_smooth(method="lm")
plot(g)
g<-ggplot(tbl.fundSummary, aes(fundCode, totBalRemain))+geom_point() + geom_smooth(method="lm")
plot(g)
View(tbl.fundSummary)
View(tbl.fundBalance)
View(tbl.GaCommit)
is.data.table(tbl.GaCommit)
as.data.table(tbl.GaCommit)
is.data.table(tbl.GaCommit)
as.data.table(tbl.GaCommit)
is.data.table(tbl.GaCommit)
tbl.fundSummary
View(tbl.fundSummary)
setkey(tbl.GaCommit, FY)
tbl.GaCommit<-data.table(tbl.GaCommit)
is.data.table(tbl.GaCommit)
tables()
tbl.GaCommit[,sum(Award), by=FY]
setkey(tbl.GaCommit, FY)
tbl.GaCommit[,sum(Award), by=FY]
View(tbl.fundSummary)
setkey(tbl.GaCommit, osfaCode)
setkey(tbl.fundSummary, osfaCode)
tbl.fundByYear<- inner_join(tbl.fundSummary, tbl.GaCommit, by = "osfaCode")
View(tbl.fundByYear)
tbl.GaCommit %>% group_by(FY, osfaCode) %>% summarise(Award)
tbl.GaCommit %>% group_by(FY, osfaCode) %>% summarise(Award)
tbl.GaCommit %>% group_by(FY, osfaCode)
tbl.GaCommit %>% group_by(FY, osfaCode) %>% select(FY, osfaCode, AccountName, Award)
tbl.GaCommit %>% group_by(FY, osfaCode) %>% select(FY, osfaCode, AccountName, Award) %>% summarize(Award)
tbl.GaCommit %>% group_by(FY, osfaCode) %>% select(FY, osfaCode, AccountName, Award) %>% summarize(sum(Award))
tbl.GaCommit %>% group_by(FY, osfaCode, AccountName) %>% select(FY, osfaCode, AccountName, Award) %>% summarize(sum(Award))
tbl.GaCommit[,lapply(.SD, sum), by=list(FY, osfaCode, AccountName)]
tbl.GaCommit[,lapply(sum), by=list(FY, osfaCode, AccountName)]
tbl.GaCommit[,lapply(.SD, sum), by=list(FY, osfaCode, AccountName)]
tbl.GaCommit[,lapply(.SD, sum), by=(FY, osfaCode, AccountName)]
tbl.GaCommit[,lapply(sum), by=list(FY, osfaCode, AccountName)]
tbl.GaCommit[,lapply(.SD, sum), by=(FY, osfaCode, AccountName)]
tbl.GaCommit[,lapply(.SD, sum), by=(FY, osfaCode, AccountName)]
tbl.GaCommit[,lapply(.SD, sum), by=list(FY, osfaCode, AccountName)]
tbl.GaCommit[,sum(Award), by=list(FY, osfaCode, AccountName)]
data_files <- file.info(Sys.glob("y:/Reports/Banner/Argos/Test/*.csv"))
View(config)
data_files <- file.info(Sys.glob("y:/Reports/Banner/Argos/Test/*.csv"))
data_files <- file.info(Sys.glob("y:/Reports/Banner/Argos/Test/*.csv"))
source('S:/ScholarshipsProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
source('S:/ScholarshipsProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
View(chart.GaCommitByFund01)
View(chart.GaCommitByYear)
View(chart.GaCommitByFund01)
View(chart.GaCommitByFund02)
View(tbl.GaCommitmentFundList.OSFA)
tbl.GaCommitmentFundList.OSFA[,sum(totalCommitment), by=list(fundraisingUnit)]
chart.GaCommitByUnit<-tbl.GaCommitmentFundList.OSFA[,sum(totalCommitment), by=list(fundraisingUnit)]
View(chart.GaCommitByUnit)
setnames(chart.GaCommitByUnit, c("V1", "fundAmount"))
View(chart.GaCommitByUnit)
source('S:/ScholarshipsProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
View(chart.GaCommitByFund02)
source('S:/ScholarshipsProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
source('S:/ScholarshipsProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
View(chart.GaCommitByFund02)
chart.GaCommitByFund02%>%rename.columns(chart.GaCommitByFund02,list(V1='fundAmount'))
chart.GaCommitByFund02%>%rename.columns(chart.GaCommitByFund02,list(V1=fundAmount))
list(V1=fundAmount)
list(V1='fundAmount')
chart.GaCommitByFund02%>%rename.columns(chart.GaCommitByFund02,list(V1='fundAmount''))
rename.columns(chart.GaCommitByFund02,list(V1='fundAmount'))
source('S:/ScholarshipsProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
View(chart.GaCommitByFund01)
View(chart.GaCommitByFund02)
chart.GaCommitByFund02<-rename.columns(chart.GaCommitByFund02,list(V1='fundAmount'))
source('S:/ScholarshipsProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
View(chart.GaCommitByFund02)
View(chart.GaCommitByUnit)
write.csv(chart.GaCommitByUnit, "graph/chart.GaCommitByUnit.csv", row.names=F)
getwd()
write.csv(chart.GaCommitByUnit, "graph\chart.GaCommitByUnit.csv", row.names=F)
write.csv(chart.GaCommitByUnit, "graph/chart.GaCommitByUnit.csv", row.names=F)
write.csv(chart.GaCommitByUnit, "graphs/chart.GaCommitByUnit.csv", row.names=F)
View(chart.GaCommitByFund01)
View(chart.GaCommitByYear)
write.csv(chart.GaCommitByYear, "graphs/chart.GaCommitByYear.csv", row.names=F)
View(tbl.fundSummary)
tbl.fundSummary %>% mutate(cuts = cut(value, c(0, 100000, 200000, 300000, 400000, Inf))) %>%
group_by(cuts) %>%
summarize(n=n(totBalRemain))
group_by(cuts) %>%
summarize(n=n(totBalRemain))
tbl.fundSummary %>% mutate(cuts = cut(totBalRemain, c(0, 100000, 200000, 300000, 400000, Inf))) %>%
group_by(cuts) %>%
summarize(n=n())
tbl.fundSummary %>% mutate(range = cut(totBalRemain, c(0, 100000, 200000, 300000, 400000, Inf))) %>%
group_by(cuts) %>%
summarize(n=n())
tbl.fundSummary %>% mutate(cuts = cut(totBalRemain, c(0, 100000, 200000, 300000, 400000, Inf))) %>%
group_by(cuts) %>%
summarize(n=n())
rangeAmt<-tbl.fundSummary %>% mutate(cuts = cut(totBalRemain, c(0, 100000, 200000, 300000, 400000, Inf))) %>%
group_by(cuts) %>%
summarize(n=n())
View(project.info)
View(rangeAmt)
chart.rangefundAmt %>% tbl.fundSummary %>% mutate(cuts = cut(totBalRemain, c(0, 100000, 200000, 300000, 400000, Inf))) %>%
group_by(cuts) %>%
summarize(n=n())
chart.rangefundAmt <- tbl.fundSummary %>% mutate(cuts = cut(totBalRemain, c(0, 100000, 200000, 300000, 400000, Inf))) %>%
group_by(cuts) %>%
summarize(n=n())
View(chart.rangefundAmt)
write.csv(chart.rangefundAmt, "graphs/chart.rangefundAmt.csv", row.names=F)
chart.rangefundAmt=data.table(chart.rangefundAmt)
chart.rangefundAmt
xxx<-chart.rangefundAmt
fctr.cols<- sapply(xxx,as.factor)
xxx
chart.rangefundAmt <- tbl.fundSummary %>% mutate(cuts = cut(totBalRemain, c('0', '100000','200000', '300000', '400000', Inf))) %>%
group_by(cuts) %>%
summarize(n=n())
chart.rangefundAmt
chart.rangefundAmt <- tbl.fundSummary %>% mutate(cuts = cut(totBalRemain, c(0, 100000, 200000, 300000, 400000, Inf))) %>%
group_by(cuts) %>%
summarize(n=n())
chart.rangefundAmt <- tbl.fundSummary %>% mutate(cuts = cut(totBalRemain, c(0, 100000, 200000, 300000, 400000, Inf))) %>%
group_by(cuts) %>%
summarize(n=n())
seq(0, 500, by=100 )
chart.rangefundAmt <- tbl.fundSummary %>% mutate(cuts = cut(totBalRemain, c(seq(0, 500, by=100 ), Inf))) %>%
group_by(cuts) %>%
summarize(n=n())
chart.rangefundAmt <- tbl.fundSummary %>% mutate(cuts = cut(totBalRemain, c(c(seq(0, 500, by=100 )), Inf))) %>%
group_by(cuts) %>%
summarize(n=n())
chart.rangefundAmt <- tbl.fundSummary %>% mutate(cuts = cut(totBalRemain, c(0, 100, 200, 300, 400, Inf))) %>%
group_by(cuts) %>%
summarize(n=n())
View(chart.rangefundAmt)
chart.rangefundAmt <- tbl.fundSummary %>% mutate(cuts = cut(totBalRemain, c(0, 100000, 200000, 300000, 400000, Inf))) %>%
group_by(cuts) %>%
summarize(n=n())
View(tbl.GaCommitmentFundList.OSFA)
View(tbl.GaCommit)
View(fundCode)
View(jctCode)
chart.rangefundAmt <- tbl.fundSummary %>% mutate(cuts = cut(totBalRemain, c(-100000, 0, 100000, 200000, 300000, 400000, Inf))) %>%
group_by(cuts) %>%
summarize(n=n())  %>%
mutate(Range=c("<$0","0-$100,000","$100,000-$200,000","$200,000-$300,000","$300,000-$400,000", ">$400,000")
View(chart.rangefundAmt)
chart.rangefundAmt <- tbl.fundSummary %>% mutate(cuts = cut(totBalRemain, c(-100000, 0, 100000, 200000, 300000, 400000, Inf))) %>%
group_by(cuts) %>%
summarize(n=n())  %>%
mutate(Range=c("Less than $0","0-$100,000","$100,000-$200,000","$200,000-$300,000","$300,000-$400,000", ">$400,000")
View(chart.rangefundAmt)
chart.rangefundAmt <- tbl.fundSummary %>% mutate(cuts = cut(totBalRemain, c(-100000, 0, 100000, 200000, 300000, 400000, Inf))) %>%
group_by(cuts) %>%
summarize(n=n())  %>%
mutate(Range=c("Less than $0","0-$100,000","$100,000-$200,000","$200,000-$300,000","$300,000-$400,000", "Greater than $400,000")
View(chart.rangefundAmt)
View(chart.rangefundAmt)
chart.rangefundAmt <- tbl.fundSummary %>% mutate(cuts = cut(totBalRemain, c(-100000, 0, 100000, 200000, 300000, 400000, Inf))) %>%
group_by(cuts) %>%
summarize(n=n())
View(chart.rangefundAmt)
View(chart.rangefundAmt)
source('S:/ScholarshipsProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
data_files <- file.info(Sys.glob("y:/Reports/Banner/Argos/Test/*.csv"))
row.names(data_files)[which.max(data_files[["ctime"]])]                                                         #find the most recent version
#import .csv file
tbl.scholar<-read.csv(row.names(data_files)[which.max(data_files[["ctime"]])], header=TRUE, sep=",", colClasses=c("Date", rep("character",2),"numeric","character", rep("numeric",8)))
#tbl.scholar$spriden_id  <- as.character(tbl.scholar$spriden_id)                                                #convert spriden to character
names(tbl.scholar)[2] <- "studentID"                                                                            #rename to studentID
names(tbl.scholar)[5] <- "fundCode"                                                                             #rename to studentID
#tbl.scholar$SYSDATE <- as.Date(as.character(tbl.scholar$SYSDATE), "%m/%d/%Y")                                  #convert SYSDATE to date only
tbl.scholar[ is.na(tbl.scholar) ] <- 0                                                                          #replace na's with 0
# dup.DF(tbl.scholar, "cohort")
colNames <- c("ay_2223", "ay_2324")
row.names(data_files)[which.max(data_files[["ctime"]])]                                                         #find
tbl.scholar<-read.csv(row.names(data_files)[which.max(data_files[["ctime"]])], header=TRUE, sep=",", colClasses=
tbl.scholar<-read.csv(row.names(data_files)[which.max(data_files[["ctime"]])], header=TRUE, sep=",", colClasses=c("Date", rep("character",2),"numeric","character", rep("numeric",8)))
data_files <- file.info(Sys.glob("y:/Reports/Banner/Argos/Test/*.csv"))
row.names(data_files)[which.max(data_files[["ctime"]])]                                                         #find the most recent version
#import .csv file
tbl.scholar<-read.csv(row.names(data_files)[which.max(data_files[["ctime"]])], header=TRUE, sep=",", colClasses=c("Date", rep("character",2),"numeric","character", rep("numeric",8)))
row.names(data_files)[which.max(data_files[["ctime"]])]
tbl.scholar<-read.csv(row.names(data_files)[which.max(data_files[["ctime"]])])
View(tbl.scholar)
source('S:/ScholarshipsProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
View(tbl.scholar1)
tbl.scholar1<-tbl.scholar1%>%mutate_cond(cohort == currentAY, ay_1819=ay_1718, ay_1920=ay_1718, ay_2021=ay_1718)
View(tbl.scholar1)
View(tbl.scholar)
tbl.scholar1<-tbl.scholar1%>%mutate_cond(COHORT == currentAY, ay_1819=ay_1718, ay_1920=ay_1718, ay_2021=ay_1718)
View(tbl.scholar)
tbl.scholar1<-tbl.scholar1%>%mutate_cond(COHORT == currentAY, AY_1819=AY_1718, AY_1920=AY_1718, AY_2021=AY_1718)
source('S:/ScholarshipsProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
View(tbl.scholar)
source('S:/ScholarshipsProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
View(chart.GaCommitByYear)
source('S:/ScholarshipsProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
View(chart.GaCommitByFund01)
View(chart.GaCommitByFund02)
View(chart.GaCommitByUnit)
View(chart.GaCommitByYear)
View(chart.rangefundAmt)
View(chart.rangefundAmt)
chart.rangefundAmt%>%
mutate(cuts = fct_recode(cuts,
"(-1e+05,0]"    = "100,000-200,000"
))
source('S:/ScholarshipsProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
source('S:/ScholarshipsProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
View(tbl.GaCommitmentFundList.OSFA)
source('S:/ScholarshipsProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
source('S:/ScholarshipsProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
source('S:/ScholarshipsProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
source('S:/ScholarshipsProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
source('S:/ScholarshipsProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
source('S:/ScholarshipsProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
source('S:/ScholarshipsProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
View(tbl.GaCommit)
View(tbl.GaCommitmentFundList.OSFA)
View(tbl.GaCommit)
View(tbl.GaCommitmentFundList.OSFA)
View(chart.rangefundAmt)
chart.rangefundAmt<-chart.rangefundAmt%>%
mutate(cuts = recode(cuts, "(-1e+05,0]"    = "100,000-000,000"))
View(chart.rangefundAmt)
chart.rangefundAmt<-chart.rangefundAmt%>%
mutate(cuts = recode(cuts, "(-1e+05,0]"    = "(100,000)-000,000"))
View(chart.rangefundAmt)
chart.rangefundAmt<-chart.rangefundAmt%>%
mutate(cuts = recode(cuts, "(-1e+05,0]"    = "-100,000 to 000,000"))
View(chart.rangefundAmt)
chart.rangefundAmt<-chart.rangefundAmt%>%
mutate(cuts = recode(cuts, "(-1e+05,0]"    = "-100,000 to 000,000")
View(chart.rangefundAmt)
chart.rangefundAmt<-chart.rangefundAmt%>%
mutate(cuts = recode(cuts, "(-1e+05,0]"    = "([100,000] to 000,000"))
chart.rangefundAmt<-chart.rangefundAmt%>%
mutate(cuts = recode(cuts, "(-1e+05,0]"    = "Less than 0"))
View(chart.rangefundAmt)
View(chart.rangefundAmt)
chart.rangefundAmt<-chart.rangefundAmt%>%
mutate(cuts = recode(cuts, "(-1e+05,0]"    = "Less than 0"))
View(chart.rangefundAmt)
chart.rangefundAmt<-chart.rangefundAmt%>%
mutate(cuts = recode(cuts, "(-1e+05,0]"    = "Less than 0",
0,1e+05] = "0 to $100,000"
))
chart.rangefundAmt <- chart.rangefundAmt %>% mutate(cuts = factor(cuts, labels = c("Less than 0",
"$0-$100,000",
"$100,000-$200,000" )))
chart.rangefundAmt <- chart.rangefundAmt %>% mutate(cuts = factor(cuts, labels = c("Less than 0",
"$0-$100,000",
"$100,000-$200,000",
"$200,000-$300,000",
"$300,000-$400,000")))
source('S:/ScholarshipsProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
View(chart.rangefundAmt)
source('S:/ScholarshipsProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
source('S:/ScholarshipsProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
source('S:/ScholarshipsProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
source('S:/ScholarshipsProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
packrat::unused_packages()
packrat::clean()
options()
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
data_files <- file.info(Sys.glob("y:/Reports/Banner/Argos/Test/*.csv"))
data_files <- file.info(Sys.glob("y:/Reports/Banner/Argos/Test/*.csv"))
View(data_files)
#Load the project
library("ProjectTemplate"); load.project()
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
sink()
.libPaths()
packrat::unused_packages()
library("broom", lib.loc="~/ScholarshipProject/R/ScholarshipProject/packrat/lib/x86_64-w64-mingw32/3.4.4")
remove.packages("quantmod")
packrat::unused_packages()
packrat::unused_packages()
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
install.packages("reshape2")
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
devtools::install_github("rstudio/packrat") ## get latest packrat into _user_ library
install.packages("devtools")
devtools::install_github("rstudio/packrat") ## get latest packrat into _user_ library
packrat::restore()
packrat::restore() ## rebuild the library using latest packrat; twiddle thumbs while waiting
<restart R>
.libPaths("packrat/lib/x86_64-apple-darwin13.3.0/3.2.0")
packrat::restore(overwrite.dirty = TRUE)
packrat::snapshot()
packrat::snapshot()
packrat::snapshot()
packrat::restore(overwrite.dirty = TRUE)
packrat::restore()
<restart R>
restart R
restart
restart()
.libPaths("packrat/lib/x86_64-w64-mingw32/3.4.4")
devtools::install_github("rstudio/packrat") ## get latest packrat into _user_ library
devtools::install_github("rstudio/packrat") ## get latest packrat into _user_ library
packrat::on()
packrat::snapshot()
install.packages('knittr')
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
install.packages("ProjectTemplate")
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
install.packages('ProjectTemplate')
library("git2r", lib.loc="~/ScholarshipProject/R/ScholarshipProject/packrat/lib/x86_64-w64-mingw32/3.4.4")
library("git2r", lib.loc="~/ScholarshipProject/R/ScholarshipProject/packrat/lib/x86_64-w64-mingw32/3.4.4")
library("mime", lib.loc="~/ScholarshipProject/R/ScholarshipProject/packrat/lib/x86_64-w64-mingw32/3.4.4")
library("ProjectTemplate", lib.loc="~/ScholarshipProject/R/ScholarshipProject/packrat/lib/x86_64-w64-mingw32/3.4.4")
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
library("dplyr", lib.loc="~/ScholarshipProject/R/ScholarshipProject/packrat/lib/x86_64-w64-mingw32/3.4.4")
install.packages("dplyr")
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
install.packages("tidyverse")
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
View(data_files)
View(tbl.scholar)
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
View(data_files)
(?i)
?(?i)
?fixed
tbl.scholarX<-tbl.scholar1%>%mutate_cond(fixed("COHORT", ignore_case = TRUE) == currentAY, AY_1819=AY_1718, AY_1920=AY_1718, AY_2021=AY_1718)
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
View(data_files)
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
View(data_files)
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
df$fixed("cohort", ignore_case=TRUE)
df$cohort
names(df)[st_pos:ncol(df)] <- paste("AY", paste0(as.numeric(substr(min(df$cohort), 1, 2)) + 0:(ncol(df) - st_pos),
as.numeric(substr(min(df$cohort), 3, 4)) + 0:(ncol(df) - st_pos)),
sep="_")
b<-names(df)[st_pos:ncol(df)] <- paste("AY", paste0(as.numeric(substr(min(df$cohort), 1, 2)) + 0:(ncol(df) - st_pos),
as.numeric(substr(min(df$cohort), 3, 4)) + 0:(ncol(df) - st_pos)),
sep="_")
b<-names(df)[st_pos:ncol(df)] <- paste("AY", paste0(as.numeric(substr(min(df$COHORT), 1, 2)) + 0:(ncol(df) - st_pos),
as.numeric(substr(min(df$COHORT), 3, 4)) + 0:(ncol(df) - st_pos)),
sep="_")
b<-names(df)[st_pos:ncol(df)] <- paste("AY", paste0(as.numeric(substr(min(df$cohort), 1, 2)) + 0:(ncol(df) - st_pos),
as.numeric(substr(min(df$cohort), 3, 4)) + 0:(ncol(df) - st_pos)),
sep="_")
View(df)
names(df)[st_pos:ncol(df)] <- paste("AY", paste0(as.numeric(substr(min(df$cohort), 1, 2)) + 0:(ncol(df) - st_pos),
as.numeric(substr(min(df$cohort), 3, 4)) + 0:(ncol(df) - st_pos)),
sep="_")
#copy "year" column's value to the ensuing three columns
cols <- names(df)[st_pos:ncol(df)]                                                                  #renamed columns
mapply(function(x, y)
df[df$COHORT == x & df$studentID == y, which(grepl(x, cols)) + (st_pos-1):(st_pos+2)] <<-
df[df$COHORT == x & df$studentID == y, which(grepl(x, cols)) + (st_pos-1)],
df$COHORT, df$studentID)
names(df)[st_pos:ncol(df)] <- paste("AY", paste0(as.numeric(substr(min(df$cohort), 1, 2)) + 0:(ncol(df) - st_pos),
as.numeric(substr(min(df$cohort), 3, 4)) + 0:(ncol(df) - st_pos)),
sep="_")
#copy "year" column's value to the ensuing three columns
cols <- names(df)[st_pos:ncol(df)]                                                                  #renamed columns
mapply(function(x, y)
df[df$cohort == x & df$studentID == y, which(grepl(x, cols)) + (st_pos-1):(st_pos+2)] <<-
df[df$cohort == x & df$studentID == y, which(grepl(x, cols)) + (st_pos-1)],
df$cohort, df$studentID)
names(df)
tolower(names(df))
cols <- names(df)[st_pos:ncol(df)]                                                                  #renamed columns
mapply(function(x, y)
df[df$cohort == x & df$studentID == y, which(grepl(x, cols)) + (st_pos-1):(st_pos+2)] <<-
df[df$cohort == x & df$studentID == y, which(grepl(x, cols)) + (st_pos-1)],
df$cohort, df$studentID)
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
names(df)
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
names(df)[st_pos:ncol(df)] <- paste("AY", paste0(as.numeric(substr(min(df$cohort), 1, 2)) + 0:(ncol(df) - st_pos),
as.numeric(substr(min(df$cohort), 3, 4)) + 0:(ncol(df) - st_pos)),
sep="_")
names(df)[st_pos:ncol(df)] <- paste("ay", paste0(as.numeric(substr(min(df$cohort), 1, 2)) + 0:(ncol(df) - st_pos),
as.numeric(substr(min(df$cohort), 3, 4)) + 0:(ncol(df) - st_pos)),
sep="_")
df <- tbl.scholar
tbl.scholar1 <- tbl.scholar
tbl.scholar1<-tbl.scholar1%>%mutate_cond(fixed("COHORT", ignore_case = TRUE) == currentAY, AY_1819=AY_1718, AY_1920=AY_1718, AY_2021=AY_1718)
tbl.scholar1<-tbl.scholar1%>%mutate_cond(fixed("COHORT", ignore_case = TRUE) == currentAY+101, AY_1920=AY_1819, AY_2021=AY_1819, AY_2122=AY_1819)
df <- tolower(names(df))
names(df)[st_pos:ncol(df)] <- paste("AY", paste0(as.numeric(substr(min(df$cohort), 1, 2)) + 0:(ncol(df) - st_pos),
as.numeric(substr(min(df$cohort), 3, 4)) + 0:(ncol(df) - st_pos)),
sep="_")
names(df)[st_pos:ncol(df)] <- paste("ay", paste0(as.numeric(substr(min(df$cohort), 1, 2)) + 0:(ncol(df) - st_pos),
as.numeric(substr(min(df$cohort), 3, 4)) + 0:(ncol(df) - st_pos)),
sep="_")
df <- tbl.scholar
names(df)[st_pos:ncol(df)] <- paste("AY", paste0(as.numeric(substr(min(df$cohort), 1, 2)) + 0:(ncol(df) - st_pos),
as.numeric(substr(min(df$cohort), 3, 4)) + 0:(ncol(df) - st_pos)),
sep="_")
cols <- names(df)[st_pos:ncol(df)]                                                                  #renamed columns
mapply(function(x, y)
df[df$cohort == x & df$studentID == y, which(grepl(x, cols)) + (st_pos-1):(st_pos+2)] <<-
df[df$cohort == x & df$studentID == y, which(grepl(x, cols)) + (st_pos-1)],
df$cohort, df$studentID)
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
install.packages("dplyr")
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
install.packages("dplyr")
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
install.packages("dplyr")
packrat::restore()
?packrat::restore()
packrat::restore(restart = TRUE)
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
View(tbl.BannerCohorts)
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
install.packages("DiagrammeR")
View(tbl.scholar1)
View(tbl.scholar)
View(tbl.scholar1)
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
View(tbl.GaCommit)
View(jctCohortCode)
View(jctCode)
View(tbl.scholar1)
View(df)
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
packrat::restore()
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
View(data_files)
View(df)
