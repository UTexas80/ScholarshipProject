options()
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
data_files <- file.info(Sys.glob("y:/Reports/Banner/Argos/Test/*.csv"))
data_files <- file.info(Sys.glob("y:/Reports/Banner/Argos/Test/*.csv"))
View(data_files)
#Load the project
library("ProjectTemplate"); load.project()
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
sink()
.libPaths()
packrat::unused_packages()
library("broom", lib.loc="~/ScholarshipProject/R/ScholarshipProject/packrat/lib/x86_64-w64-mingw32/3.4.4")
remove.packages("quantmod")
packrat::unused_packages()
packrat::unused_packages()
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
install.packages("reshape2")
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
devtools::install_github("rstudio/packrat") ## get latest packrat into _user_ library
install.packages("devtools")
devtools::install_github("rstudio/packrat") ## get latest packrat into _user_ library
packrat::restore()
packrat::restore() ## rebuild the library using latest packrat; twiddle thumbs while waiting
<restart R>
.libPaths("packrat/lib/x86_64-apple-darwin13.3.0/3.2.0")
packrat::restore(overwrite.dirty = TRUE)
packrat::snapshot()
packrat::snapshot()
packrat::snapshot()
packrat::restore(overwrite.dirty = TRUE)
packrat::restore()
<restart R>
restart R
restart
restart()
.libPaths("packrat/lib/x86_64-w64-mingw32/3.4.4")
devtools::install_github("rstudio/packrat") ## get latest packrat into _user_ library
devtools::install_github("rstudio/packrat") ## get latest packrat into _user_ library
packrat::on()
packrat::snapshot()
install.packages('knittr')
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
install.packages("ProjectTemplate")
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
install.packages('ProjectTemplate')
library("git2r", lib.loc="~/ScholarshipProject/R/ScholarshipProject/packrat/lib/x86_64-w64-mingw32/3.4.4")
library("git2r", lib.loc="~/ScholarshipProject/R/ScholarshipProject/packrat/lib/x86_64-w64-mingw32/3.4.4")
library("mime", lib.loc="~/ScholarshipProject/R/ScholarshipProject/packrat/lib/x86_64-w64-mingw32/3.4.4")
library("ProjectTemplate", lib.loc="~/ScholarshipProject/R/ScholarshipProject/packrat/lib/x86_64-w64-mingw32/3.4.4")
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
library("dplyr", lib.loc="~/ScholarshipProject/R/ScholarshipProject/packrat/lib/x86_64-w64-mingw32/3.4.4")
install.packages("dplyr")
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
install.packages("tidyverse")
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
View(data_files)
View(tbl.scholar)
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
View(data_files)
(?i)
?(?i)
?fixed
tbl.scholarX<-tbl.scholar1%>%mutate_cond(fixed("COHORT", ignore_case = TRUE) == currentAY, AY_1819=AY_1718, AY_1920=AY_1718, AY_2021=AY_1718)
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
View(data_files)
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
View(data_files)
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
df$fixed("cohort", ignore_case=TRUE)
df$cohort
names(df)[st_pos:ncol(df)] <- paste("AY", paste0(as.numeric(substr(min(df$cohort), 1, 2)) + 0:(ncol(df) - st_pos),
as.numeric(substr(min(df$cohort), 3, 4)) + 0:(ncol(df) - st_pos)),
sep="_")
b<-names(df)[st_pos:ncol(df)] <- paste("AY", paste0(as.numeric(substr(min(df$cohort), 1, 2)) + 0:(ncol(df) - st_pos),
as.numeric(substr(min(df$cohort), 3, 4)) + 0:(ncol(df) - st_pos)),
sep="_")
b<-names(df)[st_pos:ncol(df)] <- paste("AY", paste0(as.numeric(substr(min(df$COHORT), 1, 2)) + 0:(ncol(df) - st_pos),
as.numeric(substr(min(df$COHORT), 3, 4)) + 0:(ncol(df) - st_pos)),
sep="_")
b<-names(df)[st_pos:ncol(df)] <- paste("AY", paste0(as.numeric(substr(min(df$cohort), 1, 2)) + 0:(ncol(df) - st_pos),
as.numeric(substr(min(df$cohort), 3, 4)) + 0:(ncol(df) - st_pos)),
sep="_")
View(df)
names(df)[st_pos:ncol(df)] <- paste("AY", paste0(as.numeric(substr(min(df$cohort), 1, 2)) + 0:(ncol(df) - st_pos),
as.numeric(substr(min(df$cohort), 3, 4)) + 0:(ncol(df) - st_pos)),
sep="_")
#copy "year" column's value to the ensuing three columns
cols <- names(df)[st_pos:ncol(df)]                                                                  #renamed columns
mapply(function(x, y)
df[df$COHORT == x & df$studentID == y, which(grepl(x, cols)) + (st_pos-1):(st_pos+2)] <<-
df[df$COHORT == x & df$studentID == y, which(grepl(x, cols)) + (st_pos-1)],
df$COHORT, df$studentID)
names(df)[st_pos:ncol(df)] <- paste("AY", paste0(as.numeric(substr(min(df$cohort), 1, 2)) + 0:(ncol(df) - st_pos),
as.numeric(substr(min(df$cohort), 3, 4)) + 0:(ncol(df) - st_pos)),
sep="_")
#copy "year" column's value to the ensuing three columns
cols <- names(df)[st_pos:ncol(df)]                                                                  #renamed columns
mapply(function(x, y)
df[df$cohort == x & df$studentID == y, which(grepl(x, cols)) + (st_pos-1):(st_pos+2)] <<-
df[df$cohort == x & df$studentID == y, which(grepl(x, cols)) + (st_pos-1)],
df$cohort, df$studentID)
names(df)
tolower(names(df))
cols <- names(df)[st_pos:ncol(df)]                                                                  #renamed columns
mapply(function(x, y)
df[df$cohort == x & df$studentID == y, which(grepl(x, cols)) + (st_pos-1):(st_pos+2)] <<-
df[df$cohort == x & df$studentID == y, which(grepl(x, cols)) + (st_pos-1)],
df$cohort, df$studentID)
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
names(df)
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
names(df)[st_pos:ncol(df)] <- paste("AY", paste0(as.numeric(substr(min(df$cohort), 1, 2)) + 0:(ncol(df) - st_pos),
as.numeric(substr(min(df$cohort), 3, 4)) + 0:(ncol(df) - st_pos)),
sep="_")
names(df)[st_pos:ncol(df)] <- paste("ay", paste0(as.numeric(substr(min(df$cohort), 1, 2)) + 0:(ncol(df) - st_pos),
as.numeric(substr(min(df$cohort), 3, 4)) + 0:(ncol(df) - st_pos)),
sep="_")
df <- tbl.scholar
tbl.scholar1 <- tbl.scholar
tbl.scholar1<-tbl.scholar1%>%mutate_cond(fixed("COHORT", ignore_case = TRUE) == currentAY, AY_1819=AY_1718, AY_1920=AY_1718, AY_2021=AY_1718)
tbl.scholar1<-tbl.scholar1%>%mutate_cond(fixed("COHORT", ignore_case = TRUE) == currentAY+101, AY_1920=AY_1819, AY_2021=AY_1819, AY_2122=AY_1819)
df <- tolower(names(df))
names(df)[st_pos:ncol(df)] <- paste("AY", paste0(as.numeric(substr(min(df$cohort), 1, 2)) + 0:(ncol(df) - st_pos),
as.numeric(substr(min(df$cohort), 3, 4)) + 0:(ncol(df) - st_pos)),
sep="_")
names(df)[st_pos:ncol(df)] <- paste("ay", paste0(as.numeric(substr(min(df$cohort), 1, 2)) + 0:(ncol(df) - st_pos),
as.numeric(substr(min(df$cohort), 3, 4)) + 0:(ncol(df) - st_pos)),
sep="_")
df <- tbl.scholar
names(df)[st_pos:ncol(df)] <- paste("AY", paste0(as.numeric(substr(min(df$cohort), 1, 2)) + 0:(ncol(df) - st_pos),
as.numeric(substr(min(df$cohort), 3, 4)) + 0:(ncol(df) - st_pos)),
sep="_")
cols <- names(df)[st_pos:ncol(df)]                                                                  #renamed columns
mapply(function(x, y)
df[df$cohort == x & df$studentID == y, which(grepl(x, cols)) + (st_pos-1):(st_pos+2)] <<-
df[df$cohort == x & df$studentID == y, which(grepl(x, cols)) + (st_pos-1)],
df$cohort, df$studentID)
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
install.packages("dplyr")
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
install.packages("dplyr")
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
install.packages("dplyr")
packrat::restore()
?packrat::restore()
packrat::restore(restart = TRUE)
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
View(tbl.BannerCohorts)
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
install.packages("DiagrammeR")
View(tbl.scholar1)
View(tbl.scholar)
View(tbl.scholar1)
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
View(tbl.GaCommit)
View(jctCohortCode)
View(jctCode)
View(tbl.scholar1)
View(df)
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
packrat::restore()
source('~/ScholarshipProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
View(data_files)
View(df)
source('S:/ScholarshipsProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
View(df)
devtools::install_github('rstudio/packrat')
source('S:/ScholarshipsProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
source('S:/ScholarshipsProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
source('S:/ScholarshipsProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
View(tbl.scholar)
source('S:/ScholarshipsProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
View(tbl.scholar)
View(tbl.scholar)
source('S:/ScholarshipsProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
View(tbl.scholar)
tbl.scholar1 <- tbl.scholar
tbl.scholar1 <- tolower(names(tbl.scholar))
tbl.scholar1<-tbl.scholar1%>%mutate_cond(fixed("COHORT", ignore_case = TRUE) == currentAY, ay_1819=ay_1718, ay_1920=ay_1718, ay_2021=ay_1718)
as.data.table(tbl.scholar1)
st_pos <- 7                                                                                         #concerned column's start position in the given dataframe
df <- tbl.scholar                                                                                   #data backup
tolower(names(df))                                                                                  #change column names to lower case since don't know how input will be formatted
names(df)[st_pos:ncol(df)] <- paste("AY", paste0(as.numeric(substr(min(df$cohort), 1, 2)) + 0:(ncol(df) - st_pos),
as.numeric(substr(min(df$cohort), 3, 4)) + 0:(ncol(df) - st_pos)),
sep="_")
View(df)
as.data.frame(tbl.scholar1)
tbl.scholar1<-as.data.table(tbl.scholar1)
View(tbl.scholar1)
View(tbl.scholar1)
View(tbl.scholar)
tbl.scholar1<-tbl.scholar
tbl.scholar1
tbl.scholar1<-as.data.table(tbl.scholar1)
tbl.scholar1
tbl.scholar1 <- tolower(names(tbl.scholar))
tbl.scholar1
tbl.scholar1
tbl.scholar1<-as.data.table(tbl.scholar1)
tbl.scholar1
tbl.scholar1 <- tbl.scholar
tbl.scholar1
tbl.scholar1<-tbl.scholar1%>%mutate_cond(fixed("COHORT", ignore_case = TRUE) == currentAY, AY_1819=AY_1718, AY_1920=AY_1718, AY_2021=AY_1718)
tbl.scholar1
tbl.scholar1<-tbl.scholar1%>%mutate_cond(fixed("COHORT", ignore_case = TRUE) == currentAY, AY_1819=AY_1718)
View(tbl.scholar1)
View(tbl.scholar1)
f<-tbl.scholar1$COHORT == currentAY
f
View(tbl.scholar1)
f<-tbl.scholar1%>(fixed("COHORT", ignore_case = TRUE) == currentAY
f<-tbl.scholar1$fixed("COHORT", ignore_case = TRUE) == currentAY
f<-tbl.scholar1$COHORT == currentAY
f
tbl.scholar1<-tbl.scholar1%>%mutate_cond(fixed("COHORT", ignore_case = TRUE) == currentAY, ay_1819=ay_1718, ay_1920=ay_1718, ay_2021=ay_1718)
tbl.scholar1<-tbl.scholar1%>%mutate_cond(fixed("COHORT", ignore_case = TRUE) == currentAY, AY_1819=AY_1718, AY_1920=AY_1718, AY_2021=AY_1718)
tbl.scholar1
View(tbl.scholar1)
tbl.scholar1<-tbl.scholar1%>%mutate(AY_1819=AY_1718)
tbl.scholar1<-tbl.scholar1%>%mutate_cond(fixed("COHORT", ignore_case = TRUE) == as.character(currentAY), AY_1819=AY_1718, AY_1920=AY_1718, AY_2021=AY_1718)
View(tbl.scholar1)
tbl.scholar1<-tbl.scholar1%>%mutate_cond(as.numeric(fixed("COHORT", ignore_case = TRUE)) == as.character(currentAY), AY_1819=AY_1718, AY_1920=AY_1718, AY_2021=AY_1718)
tbl.scholar1$COHORT
as.numeric(tbl.scholar1$COHORT
tbl.scholar1$COHORT
tbl.scholar1$COHORT
as.numeric(tbl.scholar1$COHORT)
f<-tbl.scholar1$COHORT=currentAY
f<-tbl.scholar1$COHORT==currentAY
f
tbl.scholar1<-tbl.scholar1%>%mutate_cond(as.numeric(fixed("COHORT", ignore_case = TRUE)) == as.character(currentAY), AY_1819=AY_1718, AY_1920=AY_1718, AY_2021=AY_1718)
tbl.scholar1<-tbl.scholar1%>%mutate_cond(fixed("COHORT", ignore_case = TRUE) == as.character(currentAY), AY_1819=AY_1718, AY_1920=AY_1718, AY_2021=AY_1718)
View(tbl.scholar1)
names(df)[st_pos:ncol(df)] <- paste("AY", paste0(as.numeric(substr(min(df$cohort), 1, 2)) + 0:(ncol(df) - st_pos),
as.numeric(substr(min(df$cohort), 3, 4)) + 0:(ncol(df) - st_pos)),
sep="_")
View(df)
names(df)[st_pos:ncol(df)] <- paste("AY", paste0(as.numeric(substr(min(df$COHORT), 1, 2)) + 0:(ncol(df) - st_pos),
as.numeric(substr(min(df$COHORT), 3, 4)) + 0:(ncol(df) - st_pos)),
sep="_")
cols <- names(df)[st_pos:ncol(df)]                                                                  #renamed columns
tolower(names(df))
mapply(function(x, y)
df[df$cohort == x & df$studentID == y, which(grepl(x, cols)) + (st_pos-1):(st_pos+2)] <<-
df[df$cohort == x & df$studentID == y, which(grepl(x, cols)) + (st_pos-1)],
df$cohort, df$studentID)
mapply(function(x, y)
df[df$COHORT == x & df$studentID == y, which(grepl(x, cols)) + (st_pos-1):(st_pos+2)] <<-
df[df$COHORT == x & df$studentID == y, which(grepl(x, cols)) + (st_pos-1)],
df$cohort, df$studentID)
mapply(function(x, y)
df[df$COHORT == x & df$studentID == y, which(grepl(x, cols)) + (st_pos-1):(st_pos+2)] <<-
df[df$COHORT == x & df$studentID == y, which(grepl(x, cols)) + (st_pos-1)],
df$COHORT, df$studentID)
names(df)<-toupper(names(df))
source('~/.active-rstudio-document', echo=TRUE)
source('S:/ScholarshipsProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
View(df)
View(df)
cols
?setcolorder
df(c(1:6, 19:27, 7:18))
df[(c(1:6, 19:27, 7:18)]
df[c(1:6,7:19,20:27)]
df<-df[c(1:6,7:19,20:27)]
df
View(df)
df<-setcolrder[df, c(1:6,7:19,20:27)]
df<-setcolorder[df, c(1:6,7:19,20:27)]
df<-setcolorder(df, c(1:6,20:27, 7:19)
ddf
df
df<-df[c(1:6,20:27,7:19)]
View(tbl.scholar)
source('S:/ScholarshipsProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
View(data_files)
View(df)
View(tbl.scholar)
tbl.scholar1<-tbl.scholar1%>%mutate_cond(fixed("COHORT", ignore_case = TRUE) == currentAY, ay_1819=ay_1718, ay_1920=ay_1718, ay_2021=ay_1718)
View(tbl.scholar1)
tbl.scholar1<-tbl.scholar1%>%mutate_cond(fixed("cohort", ignore_case = TRUE) == currentAY, ay_1819=ay_1718, ay_1920=ay_1718, ay_2021=ay_1718)
View(tbl.scholar1)
tbl.scholar1<-tbl.scholar1%>%mutate_cond(fixed("cohort", ignore_case = TRUE) == as.character(currentAY), ay_1819=ay_1718, ay_1920=ay_1718, ay_2021=ay_1718)
View(tbl.scholar1)
df[df$cohort == x & df$studentID == y, which(grepl(x, cols)) + (st_pos-1):(st_pos+2)] <<-
df[df$cohort == x & df$studentID == y, which(grepl(x, cols)) + (st_pos-1)]
cols <- names(df)[st_pos:ncol(df)]
cols
which(grepl(x, cols))
which(grepl(df$cohort, cols))
df$studentid
df$cohort
names(df)[st_pos:ncol(df)] <- paste("AY", paste0(as.numeric(substr(min(df$cohort), 1, 2)) + 0:(ncol(df) - st_pos),
as.numeric(substr(min(df$cohort), 3, 4)) + 0:(ncol(df) - st_pos)),
sep="_")
h<-names(df)[st_pos:ncol(df)] <- paste("AY", paste0(as.numeric(substr(min(df$cohort), 1, 2)) + 0:(ncol(df) - st_pos),
as.numeric(substr(min(df$cohort), 3, 4)) + 0:(ncol(df) - st_pos)),
sep="_")
h
View(tbl.scholar)
View(tbl.scholar)
View(df)
st_pos <- 20
df <- tbl.scholar
View(df)
names(df)<-tolower(names(df))
View(df)
df<-df[c(1:6,15:27,7:14)]
View(df)
df<-df[c(1:6,15:27,7:14)]
View(df)
df <- tbl.scholar
names(df)<-tolower(names(df))
df<-df[c(1:6,15:27,7:14)]
View(df)
names(df)[st_pos:ncol(df)] <- paste("AY", paste0(as.numeric(substr(min(df$cohort), 1, 2)) + 0:(ncol(df) - st_pos),
as.numeric(substr(min(df$cohort), 3, 4)) + 0:(ncol(df) - st_pos)),
sep="_")
View(df)
View(df)
cols <- names(df)[st_pos:ncol(df)]
mapply(function(x, y)
df[df$cohort == x & df$studentID == y, which(grepl(x, cols)) + (st_pos-1):(st_pos+2)] <<-
df[df$cohort == x & df$studentID == y, which(grepl(x, cols)) + (st_pos-1)],
df$cohort, df$studentID)
df<-df%>%mutate_cond(fixed("cohort", ignore_case = TRUE) == currentAY, AY_1819=AY_1718, AY_1920=AY_1718, AY_2021=AY_1718)
View(df)
data.table(df)
df<-data.table(df)
df<-df%>%mutate_cond(fixed("cohort", ignore_case = TRUE) == currentAY, AY_1819=AY_1718, AY_1920=AY_1718, AY_2021=AY_1718)
df
View(df)
View(df)
df<-df%>%mutate_cond(fixed("cohort", ignore_case = TRUE) == currentAY, AY_1819=AY_1718, AY_1920=AY_1718, AY_2021=AY_1718)
cols <- names(df)[st_pos:ncol(df)]                                                                  #renamed columns
mapply(function(x, y)
df[df$cohort == x & df$studentID == y, which(grepl(x, cols)) + (st_pos-1):(st_pos+2)] <<-
df[df$cohort == x & df$studentID == y, which(grepl(x, cols)) + (st_pos-1)],
df$cohort, df$studentID)
df<-df%>%mutate_cond(fixed("cohort", ignore_case = TRUE) == currentAY, ay_1819=ay_1718, ay_1920=ay_1718, ay_2021=ay_1718)
df<-df%>%mutate_cond(fixed("cohort", ignore_case = TRUE) == currentAY, AY_1819=AY_1718, AY_1920=AY_1718, AY_2021=AY_1718)
View(df)
View(df)
df$AY_1819==df$AY_1718
df$AY_1819<_-df$AY_1718
df$AY_1819<-df$AY_1718
View(df)
df$AY_1920<-df$AY_1819
df<-df%>%mutate_cond(fixed("cohort", ignore_case = TRUE) == currentAY, AY_1819<-AY_1718, AY_1920<-AY_1718, AY_202<-AY_1718)
View(tbl.scholar1)
is.data.table(tbl.scholar1)
tbl.scholar1
tbl.scholar1<-tbl.scholar1%>%mutate_cond(fixed("cohort", ignore_case = TRUE) == currentAY, ay_1819=ay_1718, ay_1920=ay_1718, ay_2021=ay_1718)
View(tbl.scholar1)
sapply(tbl.scholar1, class)
sapply(currentyAY, class)
str(currentAY)
class(currentAY)
source('S:/ScholarshipsProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
View(df)
source('S:/ScholarshipsProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
View(df)
View(df)
df$AY_2425
df$AY_2324
df$AY_2223
df$AY_2122
df$AY_2021
df$AY_1920
df$AY_1819
df$AY_1718
sapply(df, class)
source('S:/ScholarshipsProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
df <- tbl.scholar                                                                                   #data backup
names(df)<-tolower(names(df))                                                                       #change column names to lower case since don't know how input will be formatted
df<-df[c(1:6,15:27,7:14)]
df
cols <- names(df)[st_pos:ncol(df)]                                                                  #renamed columns
mapply(function(x, y)
df[df$cohort == x & df$studentID == y, which(grepl(x, cols)) + (st_pos-1):(st_pos+2)] <<-
df[df$cohort == x & df$studentID == y, which(grepl(x, cols)) + (st_pos-1)],
df$cohort, df$studentID)
grepl(df$studentid, cols)
df$cohort
grepl(df$studentid[1], cols)
which(grepl(df$studentid[1], cols))
mapply(function(x, y)
df[df$cohort == x & df$studentID == y, which(grepl(x, cols)) + (st_pos-1):(st_pos+2)] <<-
df[df$cohort == x & df$studentID == y, which(grepl(x, cols)) + (st_pos-1)],
df$cohort, df$studentID)
source('S:/ScholarshipsProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
source('S:/ScholarshipsProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
View(tbl.scholar1)
source('S:/ScholarshipsProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
View(tbl.scholar1)
View(tbl.scholar)
source('S:/ScholarshipsProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
View(tbl.scholar1)
View(tbl.scholar)
source('S:/ScholarshipsProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
View(tbl.scholar)
source('S:/ScholarshipsProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
source('S:/ScholarshipsProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
View(df)
View(data_files)
source('S:/ScholarshipsProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
View(df)
View(df)
source('S:/ScholarshipsProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
View(df)
View(data_files)
View(df)
View(tbl.scholar)
source('S:/ScholarshipsProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
ncol(df)-4
names(df)[st_pos:ncol(df)-4] <- paste("AY", paste0(as.numeric(substr(min(df$cohort), 1, 2)) + 0:(ncol(df) - st_pos),
as.numeric(substr(min(df$cohort), 3, 4)) + 0:(ncol(df) - st_pos)),
sep="_")
names(df)[st_pos:ncol(df)-4] <- paste("AY", paste0(as.numeric(substr(min(df$cohort), 1, 2)) + 0:(ncol(df)-4 - st_pos),
as.numeric(substr(min(df$cohort), 3, 4)) + 0:(ncol(df)-4 - st_pos)),
sep="_")
names(df)[st_pos:ncol(df)-4] <- paste("AY", paste0(as.numeric(substr(min(df$cohort), 1, 2)) + 0:((ncol(df)-4) - st_pos),
as.numeric(substr(min(df$cohort), 3, 4)) + 0:((ncol(df)-4) - st_pos)),
sep="_")
names(df)[st_pos:ncol(df)] <- paste("AY", paste0(as.numeric(substr(min(df$cohort), 1, 2)) + 0:(ncol(df) - st_pos),
as.numeric(substr(min(df$cohort), 3, 4)) + 0:(ncol(df) - st_pos)),
sep="_")
source('S:/ScholarshipsProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
View(df)
View(tbl.scholar)
df <- tbl.scholar                                                                                   #data backup
names(df)<-tolower(names(df))
View(df)
names(df)[st_pos:ncol(df)-4] <- paste("AY", paste0(as.numeric(substr(min(df$cohort), 1, 2)) + 0:(ncol(df) - st_pos),
as.numeric(substr(min(df$cohort), 3, 4)) + 0:(ncol(df) - st_pos)),
sep="_")
View(df)
View(df)
df <- tbl.scholar                                                                                   #data backup
names(df)<-tolower(names(df))
View(df)
View(df)
cols <- names(df)[st_pos:ncol(df)-4]
cols <- names(df)[st_pos:ncol(df)]
ncol(df)
st_pos <- 6                                                                                         #concerned column's start position in the given dataframe
df <- tbl.scholar                                                                                   #data backup
names(df)<-tolower(names(df))                                                                       #change column names to lower case since don't know how input will be formatted
st_pos <- 6                                                                                         #concerned column's
df <- tbl.scholar                                                                                   #data backup
names(df)<-tolower(names(df))                                                                       #change column names to lower case since don't know how input will be formatted
View(df)
names(df)[st_pos:ncol(df)-4] <- paste("AY", paste0(as.numeric(substr(min(df$cohort), 1, 2)) + 0:(ncol(df) - st_pos),
as.numeric(substr(min(df$cohort), 3, 4)) + 0:(ncol(df) - st_pos)),
sep="_")
View(df)
source('S:/ScholarshipsProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
View(df)
View(df)
df <- tbl.scholar                                                                                   #data backup
names(df)<-tolower(names(df))
names(df)[st_pos:ncol(df)-4] <- paste("AY", paste0(as.numeric(substr(min(df$cohort), 1, 2)) + 0:(ncol(df) - st_pos),
as.numeric(substr(min(df$cohort), 3, 4)) + 0:(ncol(df) - st_pos)),
sep="_")
names(df)[st_pos:ncol(df)] <- paste("AY", paste0(as.numeric(substr(min(df$cohort), 1, 2)) + 0:(ncol(df) - st_pos),
as.numeric(substr(min(df$cohort), 3, 4)) + 0:(ncol(df) - st_pos)),
sep="_")
st_pos <- 6                                                                                         #concerned column's start position in the given dataframe
df <- tbl.scholar                                                                                   #data backup
names(df)<-tolower(names(df))
cols <- names(df)[st_pos:ncol(df)-4]
cols <- names(df)[st_pos:ncol(df)]
cols
cols <- names(df)[st_pos:(ncol(df)-4)]
cols
source('S:/ScholarshipsProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
View(df)
mapply(function(x, y)
df[df$cohort == x & df$studentid == y, which(grepl(x, cols)) + (st_pos-1):(st_pos+2)] <<-
df[df$cohort == x & df$studentid == y, which(grepl(x, cols)) + (st_pos-1)],
df$cohort, df$studentid)
source('S:/ScholarshipsProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
View(df)
View(df)
source('S:/ScholarshipsProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
source('S:/ScholarshipsProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
source('S:/ScholarshipsProject/R/ScholarshipProject/ScholarshipProject.r', echo=TRUE)
View(df)
